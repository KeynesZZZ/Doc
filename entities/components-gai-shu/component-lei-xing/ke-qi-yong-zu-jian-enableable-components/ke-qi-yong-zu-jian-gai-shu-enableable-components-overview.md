# 可启用组件概述 (Enableable components overview)

您可以在 `IComponentData` 和 `IBufferElementData` 组件上使用可启用组件，以便在运行时禁用或启用实体上的单个组件。要使组件可启用，需继承自 `IEnableableComponent`。

#### 使用场景

* **频繁且不可预测的状态变化**： 可启用组件非常适合那些预期频繁且不可预测变化的状态，或者在帧与帧之间状态排列组合数量较多的情况下。
* **低频率状态变化**： 对于低频率状态变化，添加和移除组件管理方式更为合适，因为您期望状态能持续多个帧。
* **替代零大小标签组件**： 您还可以使用可启用组件来替代一组零大小标签组件以表示实体状态。这减少了唯一实体原型（archetype）的数量，并鼓励更好的 chunk 使用，从而减少内存消耗。

#### 结构性变化 (Structural changes)

与添加和移除组件不同，可启用组件不会创建结构性变化。当确定一个实体是否匹配实体查询时，ECS 将禁用的组件视为实体没有该组件。这意味着具有禁用组件的实体不会匹配需要该组件的查询，只要它符合所有其他查询标准，则匹配排除该组件的查询。

现有组件操作的语义不变。当组件被禁用时，`EntityManager` 仍然认为实体拥有该组件。例如，如果组件 T 在实体 E 上被禁用，那么以下方法的结果如下：

| 方法                          | 结果                  |
| --------------------------- | ------------------- |
| `HasComponent<T>(E)`        | 返回 `true`。          |
| `GetComponent<T>(E)`        | 返回组件 T 的当前值。        |
| `SetComponent<T>(E, value)` | 更新组件 T 的值。          |
| `RemoveComponent<T>(E)`     | 从 E 中移除组件 T。        |
| `AddComponent<T>(E)`        | 安静地什么也不做，因为该组件已经存在。 |

通过这种方式，您可以高效地管理实体上组件的启用状态，同时避免不必要的结构性更改，从而提高性能。
